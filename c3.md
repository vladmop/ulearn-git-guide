# C3. Комфортная конфигурация

## Гибкая настройка под любой процесс
- `git config -e --system` — редактировать настройки системы
- `git config -e --global` — редактировать настройки пользователя
- `git config -e` — редактировать настройки репозитория


## Документация ко всем командам
- `git help` — список команд
- `git <command> -h` — помощь по команде в терминале
- `git <command> --help` — помощь по команде в браузере


## Донастройка команд

### Название первой ветки репозитория
`git config --global init.defaultBranch main`

### Настройка вывода log
1. `git config --global format.pretty %C(auto)%h %C(black bold)%ad% %C(reset)%C(auto)%d %s %C(black bold)[%an]%C(reset)`
2. `git config --global log.date format-local:%d.%m.%Y %H:%M`

### Выбор difftool
1. `git config --global diff.tool vscode`
2. `git config --global difftool.vscode.cmd 'code --wait --diff $LOCAL $REMOTE'`

### Выбор и настройка mergetool
1. `git config --global merge.tool vscode`
2. `git config --global mergetool.vscode.cmd 'code --wait --merge $REMOTE $LOCAL $BASE $MERGED'`

`git config --global mergetool.keepbackup false`

### Разрешение fast-forward merge
По умолчанию и это хорошо: `git config --global merge.ff true`  
при необходимости можно: `git config --global merge.ff false`

### Автосохранение локальных изменений при rebase
`git config --global rebase.autostash true`

### Автонастройка отслеживания при push новых веток
`git config --global push.autoSetupRemote true`

### Запрет merge для pull
Удобно заменить на rebase: `git config --global pull.rebase true`  
либо можно запретить: `git config --global pull.ff only`

### Режим simple сопоставления веток для push
`git config --global push.default simple` — это режим по умолчанию в Git 2.0 и выше


## Алиасы для краткости команд
`git config --global alias.configure "config --global -e"`  
Только bash: `git config --global alias.aliases '!git config -l | grep alias'`  
Только PowerShell: `git config --global alias.aliases "!git config -l | findstr alias"`  

`git config --global alias.cleanup "clean -xdf"`  

`git config --global alias.cm "commit -m"`  
`git config --global alias.call "!git add --all && git commit"`  
`git config --global alias.calm "!git add --all && git commit -m"`  
`git config --global alias.amend "git commit --amend --no-edit"`  

`git config --global alias.st "status -sb"`  

`git config --global alias.gr "log --graph"`  
`git config --global alias.gra "log --graph --all"`  
`git config --global alias.graph "log --graph --oneline --decorate --all"`  
`git config --global alias.grr "log --graph --all --reflog"`  

`git config --global alias.br "branch -vv --sort=-committerdate --list"`  

`git config --global alias.co "checkout"`  
`git config --global alias.cob "checkout -b"`  
`git config --global alias.sw "switch"`  
`git config --global alias.swc "switch -c"`  
`git config --global alias.back "checkout -"`  

`git config --global alias.undo "reset --soft HEAD^"`  
`git config --global alias.forget "reset --hard HEAD^"`  
`git config --global alias.restart "reset --hard @{u}"`  

`git config --global alias.merc "merge --no-ff"`  
`git config --global alias.ff "merge --ff-only FETCH_HEAD"`  

`git config --global alias.autorebase "rebase --autostash"`  
`git config --global alias.rr "rebase --autostash FETCH_HEAD"`  

`git config --global alias.pushup "push -u origin HEAD"`  
`git config --global alias.please "push --force-with-lease"`  
`git config --global alias.puff "pull --ff-only"`  
`git config --global alias.purr "pull --rebase --autostash"`  
`git config --global alias.sync "!git pull --rebase --autostash && git push"`  


## Окончание строк текстовых файлов
### Для Windows
1. `git config --global core.autocrlf true`
2. `git config --global core.safecrlf warn`

### Для Linux, macOS
1. `git config --global core.autocrlf input`
2. `git config --global core.safecrlf warn`
